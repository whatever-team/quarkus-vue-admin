(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-010d896e"],{"21ce":function(t,e,a){"use strict";var r=a("8a3e"),s=a.n(r);s.a},8724:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",[a("a-row",{attrs:{gutter:32}},[a("a-col",{attrs:{md:24,lg:7}},[a("a-card",{staticClass:"account"},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"file","list-type":"picture-card",headers:t.headers,"show-upload-list":!1,action:t.uploadAction("avatar"),"before-upload":t.beforeUpload},on:{change:t.handleChange}},[t.user.avatar?a("img",{staticClass:"avatar-image scale",attrs:{src:t.previewAction(t.user.avatar),alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:t.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[t._v(" Upload ")])],1)]),a("a-list",{attrs:{"item-layout":"horizontal"}},[a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.user.phone}},[a("a",{attrs:{slot:"title",href:"https://www.antdv.com/"},slot:"title"},[t._v("手机号")]),a("a-icon",{attrs:{slot:"avatar",type:"mobile"},slot:"avatar"})],1)],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.user.username}},[a("a",{attrs:{slot:"title",href:"https://www.antdv.com/"},slot:"title"},[t._v("用户名")]),a("a-icon",{attrs:{slot:"avatar",type:"user"},slot:"avatar"})],1)],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.user.roleNames.join(",")}},[a("a",{attrs:{slot:"title",href:"https://www.antdv.com/"},slot:"title"},[t._v("分配角色")]),a("a-icon",{attrs:{slot:"avatar",type:"contacts"},slot:"avatar"})],1)],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.user.deptNames.join(",")}},[a("a",{attrs:{slot:"title",href:"https://www.antdv.com/"},slot:"title"},[t._v("所在部门")]),a("a-icon",{attrs:{slot:"avatar",type:"deployment-unit"},slot:"avatar"})],1)],1),a("a-list-item",[a("a-list-item-meta",[a("div",{attrs:{slot:"description"},slot:"description"},[a("a",{on:{click:function(e){t.passwordVisible=!0}}},[t._v("修改密码")]),t._v(" "),a("a",[t._v("开发文档")]),t._v(" "),a("a",[t._v("项目源码")])]),a("a",{attrs:{slot:"title",href:"https://www.antdv.com/"},slot:"title"},[t._v("安全设置")]),a("a-icon",{attrs:{slot:"avatar",type:"security-scan"},slot:"avatar"})],1)],1)],1)],1)],1),a("a-col",{attrs:{md:24,lg:17}},[a("a-tabs",{attrs:{"default-active-key":"1"}},[a("a-tab-pane",{key:"1",attrs:{tab:"基本信息","force-render":""}},[a("basic")],1),a("a-tab-pane",{key:"2",attrs:{tab:"其他设置"}},[a("other")],1)],1)],1)],1),a("password",{attrs:{visible:t.passwordVisible},on:{close:t.handlePasswordClose}})],1)},s=[],o=(a("96cf"),a("1da1")),i=a("5530"),n=a("93d6"),l=a("5880"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("a-form-model-item",{attrs:{label:"手机号",prop:"phone"}},[a("a-input",{attrs:{type:"text"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("a-form-model-item",{attrs:{label:"用户名",prop:"username"}},[a("a-input",{attrs:{type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),a("a-form-model-item",{attrs:{label:"邮箱",prop:"email"}},[a("a-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("a-form-model-item",{attrs:{label:"简介",prop:"description"}},[a("a-input",{attrs:{rows:4},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:2}}},[a("a-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.onSubmit}},[t._v(" 提交 ")])],1)],1)],1)},u=[],m=(a("a4d3"),a("e01a"),{name:"basic",computed:Object(i["a"])({},Object(l["mapGetters"])("account",["user"])),data:function(){return{submitLoading:!1,labelCol:{span:2},wrapperCol:{span:14},form:{phone:"",username:"",email:"",description:""},rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}]}}},mounted:function(){this.form={phone:this.user.phone,username:this.user.username,description:this.user.desc,email:this.user.email}},methods:{onSubmit:function(){var t=this;this.$refs.ruleForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return t.submitLoading=!0,e.next=4,Object(n["h"])(t.form);case 4:r=e.sent,t.submitLoading=!1,"SUCCESS"===r.data.code?(t.$message.success(r.data.message),t.user.username=t.form.username,t.user.phone=t.form.phone,t.user.email=t.form.email,t.user.desc=t.form.description):t.$message.error(r.data.message),e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetForm:function(){this.$refs.ruleForm.resetFields()}}}),p=m,d=a("0c7c"),f=Object(d["a"])(p,c,u,!1,null,"7894f07a",null),h=f.exports,v=a("9244"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-list",{attrs:{"item-layout":"horizontal","data-source":t.data},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[a("a",{attrs:{slot:"actions"},slot:"actions"},[t._v(t._s(e.action))]),a("a-list-item-meta",{attrs:{description:e.description}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])],1)}}])})],1)},g=[],w=[{title:"密保手机",description:"已绑定手机 : 130****0000",action:"修改"},{title:"密保问题",description:"未设置密保问题，密保问题可有效保护账户安全",action:"设置"},{title:"备用邮箱",description:"已绑定邮箱 : ant***sign.com",action:"修改"},{title:"MFA 设备",description:"未绑定 MFA 设备，绑定后，可以进行二次确认",action:"绑定"}],y={name:"other",data:function(){return{data:w}}},_=y,k=Object(d["a"])(_,b,g,!1,null,"6c413212",null),x=k.exports,C=a("7373"),$={name:"center",components:{Other:x,Basic:h,Password:v["a"]},computed:Object(i["a"])({},Object(l["mapGetters"])("account",["user"])),mixins:[C["a"]],data:function(){return{passwordVisible:!1}},methods:{handleChange:function(t){var e=this;"uploading"!==t.file.status?"done"===t.file.status&&(this.loading=!1,this.handleUpload(t,function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["h"])({avatar:a.result.data.path});case 2:if(r=t.sent,"SUCCESS"!==r.data.code){t.next=7;break}e.user.avatar=a.result.data.path,t.next=9;break;case 7:return e.$message.error(r.data.message),t.abrupt("return",!1);case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return e.$message.error(t.data.message),!1}))):this.loading=!0},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;e||this.$message.error("You can only upload JPG file!");var a=t.size/1024/1024<2;return a||this.$message.error("Image must smaller than 2MB!"),e&&a},handlePasswordClose:function(){this.passwordVisible=!1}}},j=$,O=(a("21ce"),Object(d["a"])(j,r,s,!1,null,null,null));e["default"]=O.exports},"8a3e":function(t,e,a){}}]);